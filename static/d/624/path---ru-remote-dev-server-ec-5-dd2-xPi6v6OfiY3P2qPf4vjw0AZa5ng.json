{"data":{"site":{"siteMetadata":{"title":"slonoed","author":"Dmitry Manannikov","siteUrl":"https://slonoed.net"}},"markdownRemark":{"id":"42be5b58-1845-5d15-ac23-70abacd19122","html":"<p>В этом руководстве я расскажу как создать удаленный сервер для разработки через mosh\n(аналог ssh) и как настроить iTerm2 для более комфортной работы.</p>\n<p>Мои требования к серверу такие:</p>\n<ul>\n<li>Убунта</li>\n<li>Цена в пределах $15 в месяц. Лучше меньше $10</li>\n<li>Диск от 30ГБ</li>\n<li>Возможность увеличения диска</li>\n<li>2 CPU уровня дроплетов в DigitalOcean (лучше 4)</li>\n<li>Желательно иметь возможность увеличения мощности</li>\n</ul>\n<p>При этом сервер не нужен постоянно. Ожидаемое время использования менее 10%. То есть в месяц около 16 часов.</p>\n<h2 id=\"а-зачем\"><a href=\"#%D0%B0-%D0%B7%D0%B0%D1%87%D0%B5%D0%BC\" aria-label=\"а зачем permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>А зачем?</h2>\n<p>Небольшое отступление. Причины почему может понадобиться удаленный сервер для разработки разные.</p>\n<ul>\n<li>Нужна машина, которая будет всегда включена</li>\n<li>Хочется использовать Linux, но под рукой только Windows</li>\n<li>Не хочется использовать рабочий комп, при отсутствии своего</li>\n<li>Доступ с любого девайса</li>\n<li>Нужна машина со специфичной конфигурацией: много памяти, GPU, большой диск</li>\n</ul>\n<p>И так далее.</p>\n<h2 id=\"выбор-провайдера\"><a href=\"#%D0%B2%D1%8B%D0%B1%D0%BE%D1%80-%D0%BF%D1%80%D0%BE%D0%B2%D0%B0%D0%B9%D0%B4%D0%B5%D1%80%D0%B0\" aria-label=\"выбор провайдера permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Выбор провайдера</h2>\n<p>Первым делом я посмотрел на DigitalOcean, которым пользуюсь довольно давно. У них есть неплохой вариант\nза $15: 2 vCPU, 2GB. 60GB.\nОднако увеличение диска понесет за собой переход на новый тариф.\nК тому же нельзя просто остановить сервер, не убив диск — деньги всё равно будут капать.</p>\n<p>Вторым в моём списке шёл AWS. И там я нашёл именно то, что мне нужно. А именно сервис EC2, который позволяет\nсоздавать виртуальные сервера по требованию. Инстанс с 2 vCPU и 2GB стоит $0.0536, что для условленных\n16 часов в месяц выливается в $0.8. Очень неплохо.</p>\n<p>При этом диска у таких серверов нет. В качестве подключаемого хранилища используется сервис EBS.\nЦена за 30GB диска будет $3.57. Диск при этом можно расширять.</p>\n<p>Итого менее $5 месяц. Но самое интересное в том, что диск и машина по сути разделены, а значит,\nчто при необходимости можно подключить диск к другой машине без каких-либо проблем.</p>\n<p>Дополнительный бонус в том, что AWS позволяет делать с инфраструктурой что угодно через консольную утилиту,\nчто позволит легко автоматизировать многие задачи.</p>\n<p>И бонус для тех, кто не пользовался AWS. В первый год у них много бесплатных ресурсов (free tier).\nНапример 750 часов EC2 и 30GB EBS. Это значит, что пользуясь этим гайдом вы можете получить сервер\nбесплатно (внимание, уточняйте цены на сайте амазона перед тем как делать что-либо).</p>\n<p>Перейдём к самому интересному…</p>\n<h2 id=\"настройка-mac-os\"><a href=\"#%D0%BD%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B0-mac-os\" aria-label=\"настройка mac os permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Настройка Mac OS</h2>\n<p>Если вы используете Mac OS как разработчик, скорее всего у вас уже установлен iTerm2.\nЕсли обычный терминал вам больше по душе, то просто пропустите часть про интеграцию с iTerm2 в конце.</p>\n<p>Дополнительно нужен <strong>mosh</strong>, который легко поставить из brew</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">brew install mosh</code></pre></div>\n<h2 id=\"создание-инстанса\"><a href=\"#%D1%81%D0%BE%D0%B7%D0%B4%D0%B0%D0%BD%D0%B8%D0%B5-%D0%B8%D0%BD%D1%81%D1%82%D0%B0%D0%BD%D1%81%D0%B0\" aria-label=\"создание инстанса permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Создание инстанса</h2>\n<p>Вам понадобится аккаунт <a href=\"https://aws.amazon.com/\" title=\"AWS\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">AWS</a>.\nПосле чего откройте <a href=\"https://console.aws.amazon.com\" title=\"AWS console\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">консоль AWS</a>.</p>\n<p>Обратите внимание на верхний правый угол. Там есть селектор региона. Амазон имеет сервера по всему миру\nи вам нужно выбрать тот, до которого пинг меньше. Для европейской части России подойдёт Франкфурт.</p>\n<p><a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/337c86d2167ed76cbfed8e3834d62684/64731/region.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 418px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 130.86124401913875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAaCAYAAAC3g3x9AAAACXBIWXMAABYlAAAWJQFJUiTwAAACtElEQVRIx5VVi04TQRTdzzHGGKMEIkQqRYSWCogYUHz9tEGhdF/dvkspbGm7bfc4Z/Ti7GaleJPT2Z259+x9Tq3NvU/Y2D3GeukI2wdfUXj3JbGuvzlCrvAem6V9lHbforizj5eFA6xtH6rzbygaOqtbB7AW13bwLFfCk5UtRfwR+dIhNveOsbHzQb8vrG7jwUIeyyvLKOSXkM89x+PFHB4tvcJrpVfY/4ynL4p4uLiuYdmuB9v1NX6cllGuODgt2zg7t/VzxXbh+QFsr4YzO0DZCVBxfH1GUM9Rtufq+fvJT1jIkDC8RrPZQLfbQf/yEkG1ilarmdAZDYeJ9yga4+LiAtZkMoHGdIqhUorjGL1eD7VaXZE29RqGIabqfDabKcRKf4rRaKT3xJ7PsSK2kl+J9HqpvKrX68qrll5JSCGhrCRIC52x+EOkCYMg0Li6utJrpVLRH6CIZ0JiwpLNNGGtVkOj0dBhE3ImHqYJRTIJ+/2+JiPoFckZthlypAhpJra/if9B2Ol0bj0jIVfXdW9zqfMXTxO5u9PDbrd7Gy4Jq6pthEzrxjN47RAnQYj+IEqEnknIfhKydrutQ+ZHpK1iFXLveoheGGE8mSUJs6pMYwmZhKyy7/v6nbqSy2TIhofpPpSQzaIQpnieB1eBTW6KxQQL2P1myKaHnB6zotQhZEpkkjJDZpVJRA/pLaeFrWT2YbJd5jZ2X1eWxBK6KenGToT818NYNavKxyRE3bdV33ma1HEcPTmmcdakZHtIpekIrUagbxmZ58FgMJcww8NkyA2VN1Z2+OfeM43mznK6bVg9yR+Lkja8k9As+Xg81ptsEWkbc+QE9wqZMK8vuRSy5L9DlpuahKw0bxpOhjl+9y4KFW9ubnRlTXCPYJGoJx+/84KV8WMuxUhg7pFU/lPShL8A6meWG/ny9HsAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;\"\n        alt=\"Выбор региона\"\n        title=\"\"\n        src=\"/static/337c86d2167ed76cbfed8e3834d62684/64731/region.png\"\n        srcset=\"/static/337c86d2167ed76cbfed8e3834d62684/861e1/region.png 148w,\n/static/337c86d2167ed76cbfed8e3834d62684/b5098/region.png 295w,\n/static/337c86d2167ed76cbfed8e3834d62684/64731/region.png 418w\"\n        sizes=\"(max-width: 418px) 100vw, 418px\"\n      />\n  </span>\n  </a></p>\n<p>Откройте меню Services и найдите там ссылку на EC2. После чего жмите кнопку Launch Instance</p>\n<p><a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/e8a6b41d9c40a3b53045225e3fef8eb7/1cf83/services.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 86.19528619528619%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAABYlAAAWJQFJUiTwAAAC1ElEQVQ4y41US08TURTujzFK1IWKykYNRCRiomJwYcBo4sK4ccECF/4GHwkg5VEtIiSoP0CXmLgxIRoXYESgz+m0M+3MdF6d9+c9t51KQYk3Pb2PnPPd75z7nUkc6e7D0bP9GB65h/MDQzh04gIu3ryLK6P30dN3Dcd6+jE4fAcDQ6O4dH0El2/cxslzgzjOzs/0XsXhU73oOt2Hru6mJSaSKTybnEX6VQpTL5J4MrOA5NgjzDx4iMmpOTydmsdceonby8UVLCy/w/T8IiZnFzCdeoOJmXSHJcCGUVcgV2vQVBUhHWQzgFKjFVQ263UNul7H/4yE7/solUQWoCNiB7QnUI+ZaZoQRZFZCUKxyPwEFPlcQqFQ4DPt43WJ+SaiKOJBFEyD9lEY0oL9QgRBCKnuICtZyMkWdiomtplZjk/eCJkvGY9jxlMmdFmW24Bt4IgC2IWqgx+CgfWigU3RREayEbb89qVMQZRuo9HoAGqC8YpCt31slYmh3RG893LO0HVdVKtVVCoVeJ63xyHkDMtqA78Ys58lA4rpwnID+MF+sHbKlK4gCNA0DYZh/KlJi6HlRpB0H6LmQdY9ztRygr8D0h+xI8vn81AUpQ1k+wEymSyKQvN187kc6vWD5ZMgNuVymb80BRGgzy5x19bgFXKwTBWmKsNgptdYWUyF6Vbj2ahMtzRTDF1Ee86QAElLlHaJGSUTfv+G7Q+rSH+p4vWnPJY+F5FezeP5xyw28go8x2blMWHbNi8TzZZlNYUdo9MhPUysiPWKg7HlTYy/3cbj9zsYX9nCreQGvubMgzuFGMay6dCg7wKBg8hvwHcs1kbMx2OsTAMaIxETobTjEvBXJkB6aarF7kGXVCQZNYV6vcrqzC52nLZGd3dJvOY6JGHTDaRHakFKHa1epodq9rPIlUAZ7QXcbYkgCCBJUtuZakgz1x8rshBLhkmKfzhajP41fgNw+tw7CXzKbQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;\"\n        alt=\"Выбор раздела Services\"\n        title=\"\"\n        src=\"/static/e8a6b41d9c40a3b53045225e3fef8eb7/623ee/services.png\"\n        srcset=\"/static/e8a6b41d9c40a3b53045225e3fef8eb7/816c5/services.png 148w,\n/static/e8a6b41d9c40a3b53045225e3fef8eb7/c766b/services.png 295w,\n/static/e8a6b41d9c40a3b53045225e3fef8eb7/623ee/services.png 590w,\n/static/e8a6b41d9c40a3b53045225e3fef8eb7/1cf83/services.png 594w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n  </span>\n  </a></p>\n<p>После чего открывается помощник создания сервера. Пройдёмся по шагам.</p>\n<h3 id=\"step-1-choose-an-amazon-machine-image-ami\"><a href=\"#step-1-choose-an-amazon-machine-image-ami\" aria-label=\"step 1 choose an amazon machine image ami permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Step 1: Choose an Amazon Machine Image (AMI)</h3>\n<p>Выбор начального образа. Я использую <strong>Ubuntu Server 16.04 LTS (HVM)</strong>  и далее буду рассказывать\nо настройках именно этой ОС. При желании (и знании) вы можете использовать ту, которая вам нравится.</p>\n<h3 id=\"step-2-choose-an-instance-type\"><a href=\"#step-2-choose-an-instance-type\" aria-label=\"step 2 choose an instance type permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Step 2: Choose an Instance Type</h3>\n<p>Выбор типа инстанса. Тип отвечает за размер памяти, количество ядер процессора, наличие встроенного диска\nи качество канала. Для старта подойдёт <strong>t2.micro</strong> (он так же входит во Free tier).</p>\n<h3 id=\"step-3-configure-instance-details\"><a href=\"#step-3-configure-instance-details\" aria-label=\"step 3 configure instance details permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Step 3: Configure Instance Details</h3>\n<p>Конфигурация инстанса. Тут ничего менять не нужно.</p>\n<h3 id=\"step-4-add-storage\"><a href=\"#step-4-add-storage\" aria-label=\"step 4 add storage permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Step 4: Add Storage</h3>\n<p>Добавление EBS хранилища. Для начала 8GB будет с головой.\nА теперь важное: уберите галку с поля Delete on Termination. Нам важно, чтобы при удалении инстанса хранилище продолжало существовать.</p>\n<h3 id=\"step-5-add-tags\"><a href=\"#step-5-add-tags\" aria-label=\"step 5 add tags permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Step 5: Add Tags</h3>\n<p>Пропускаем.</p>\n<h3 id=\"step-6-configure-security-group\"><a href=\"#step-6-configure-security-group\" aria-label=\"step 6 configure security group permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Step 6: Configure Security Group</h3>\n<p>Эта вкладка позволяет настроить начальные значения файрвола. По умолчанию в списке уже есть SHH на порту 22.\nДобавим еще один.</p>\n<ul>\n<li>Type: Custom UDP Rule</li>\n<li>Protocol: UDP</li>\n<li>Port Range: 60000-61000</li>\n<li>Source: 0.0.0.0/0</li>\n<li>Description: mosh</li>\n</ul>\n<p><a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/ced9b77fb12c30293424dec1a119e998/60270/ports.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 12.211538461538463%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAYUlEQVQI1x2NSQrAMAwD+/+PJpBAs9LsKhNdZOyR/HjvZa1VjFHv+2rOqZyzUkpaa8k5J2OM4GC4996vw3DHQwgaY+gppdzCWqtaazrn3AAzopxHhL7v0977PsJhYBE5dj+fsZq3Ux3E7AAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;\"\n        alt=\"Настройка портов\"\n        title=\"\"\n        src=\"/static/ced9b77fb12c30293424dec1a119e998/623ee/ports.png\"\n        srcset=\"/static/ced9b77fb12c30293424dec1a119e998/816c5/ports.png 148w,\n/static/ced9b77fb12c30293424dec1a119e998/c766b/ports.png 295w,\n/static/ced9b77fb12c30293424dec1a119e998/623ee/ports.png 590w,\n/static/ced9b77fb12c30293424dec1a119e998/e5345/ports.png 885w,\n/static/ced9b77fb12c30293424dec1a119e998/7a439/ports.png 1180w,\n/static/ced9b77fb12c30293424dec1a119e998/84fe0/ports.png 1770w,\n/static/ced9b77fb12c30293424dec1a119e998/60270/ports.png 2080w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n  </span>\n  </a></p>\n<h3 id=\"step-7-review-instance-launch\"><a href=\"#step-7-review-instance-launch\" aria-label=\"step 7 review instance launch permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Step 7: Review Instance Launch</h3>\n<p>Нажимаем кнопку Launch.</p>\n<p>После нажатия появляется окно для выбора ключей.\nВыбираем опцию <strong>Create a new key pair</strong>, а в поле <strong>key pair name</strong> пишем <code class=\"language-text\">remote_server</code>.\nПосле чего надо скачать ключ, нажав Download key pair</p>\n<p>Внимание, не потеряйте ключ (<strong>remote_server.pem</strong>), без него доступа на сервер не будет.</p>\n<p>После чего запускаем сервер</p>\n<h2 id=\"хранение-ключа\"><a href=\"#%D1%85%D1%80%D0%B0%D0%BD%D0%B5%D0%BD%D0%B8%D0%B5-%D0%BA%D0%BB%D1%8E%D1%87%D0%B0\" aria-label=\"хранение ключа permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Хранение ключа</h2>\n<p>Стандартный местом для хранения ключей является папка ~/.ssh.\nперенесите ключ туда.</p>\n<p>Некоторый SSH клиенты требуют чтобы на файле-ключе был ограниченый доступ (во всяком случае я с этим столкнулся).\nПоэтому добавим нужные права доступа.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">chmod 600 .ssh/remote_server.pem</code></pre></div>\n<h2 id=\"настройка-сервера\"><a href=\"#%D0%BD%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B0-%D1%81%D0%B5%D1%80%D0%B2%D0%B5%D1%80%D0%B0\" aria-label=\"настройка сервера permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Настройка сервера</h2>\n<p>Переходим в список инстансов и ждём, когда сервер будет в состоянии “running”. После чего копируем адрес (Public DNS).</p>\n<p><a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/dacd493ec07bcb6b24d053fb003c7883/d110b/instances.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 48.93813481071099%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAAB60lEQVQoz41SyW7TUBT1j/IB3VWiqiglVQJJE6gIw4IVG3Zs+wtIbLKOlBqoG4zj8dl+9vMQj4d7XYJYgMSVrt5wzzvv3EGbXy1x/vQF5st3eHA8xdGT1zgavcHJaIHT0QzHjyY4OZ/i9OISZ5PnGM+XmF29xfhyiYvZEqPpS0wWr3A2XuDh42fQ0jQFW9sDH1cCHz57eP/JhWGHyFKJMAwp2uNv1tF1lJbIM4U8z1EWObS8LO8J2wZx4MCxtrTaML/fwXEcuOQ/TBOu68K2bewsC57nw9rtYBi30PUbrNfrYe/7PjRJQOz3aJoWrpAIwgQiVtC/GtC/3MKyPRhbEyJK8M3Y4s7cIaA3+s0Gfijh+AH8IBpwMlXQjOtrqNWKFHaI8xb7FijrnsAJgUPEqoQkr+g+lBlSVSHdbOhjgaKmlFU2xJO8QtV00BxK41DH/7au+2dI8yjvLMuGg4wEgiAYaud5HpIkhRACURSRx4jje5eJRJwkCGnPb+u6HupbUj80pdRv9iQOIEMPgkhNagQXmVcG88OOlDVNg7KqoKgRe/q07vuBkO85rrEiZubDYTjath0IiqIYysHrwXoiUBTLSLVLHXeoQayaCYeUmfAAZGfjmWJVPIMHsj/jrEhQLCMcf1yR4u5XXX8CfzXjCPf6Qp4AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;\"\n        alt=\"Список инстансов\"\n        title=\"\"\n        src=\"/static/dacd493ec07bcb6b24d053fb003c7883/623ee/instances.png\"\n        srcset=\"/static/dacd493ec07bcb6b24d053fb003c7883/816c5/instances.png 148w,\n/static/dacd493ec07bcb6b24d053fb003c7883/c766b/instances.png 295w,\n/static/dacd493ec07bcb6b24d053fb003c7883/623ee/instances.png 590w,\n/static/dacd493ec07bcb6b24d053fb003c7883/e5345/instances.png 885w,\n/static/dacd493ec07bcb6b24d053fb003c7883/d110b/instances.png 1083w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n  </span>\n  </a></p>\n<p>Подключимся по SSH (значение после @ — скопированный адрес).</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">ssh -i ~/.ssh/remote_server.pem ubuntu@&lt;public dns&gt;</code></pre></div>\n<p>Если всё сделано правильно, то вы увидите приветственное сообщение.</p>\n<p>Следующий пункт это установка mosh на сервер</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">sudo apt-get update\nsudo apt-get install mosh</code></pre></div>\n<p>На этом базовая настройка сервера закончена. Выходим из оболочки, нажав <strong>Ctrl+d</strong>.</p>\n<p>Важно: я пропустил большую часть настройки для реального сервера. В конце поста будет список того, что нужно сделать, если вы собираетесь использовать такой сервер для работы.</p>\n<h2 id=\"проверка-работы-mosh\"><a href=\"#%D0%BF%D1%80%D0%BE%D0%B2%D0%B5%D1%80%D0%BA%D0%B0-%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B-mosh\" aria-label=\"проверка работы mosh permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Проверка работы mosh</h2>\n<p>Перед тем как продолжить надо проверить, что всё работает.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">mosh --ssh=&quot;ssh -i ~/.ssh/remote_server.pem&quot; \\\n   ubuntu@&lt;public dns&gt; \\\n  -- sh -c &quot;tmux ls | grep -vq attached &amp;&amp; tmux a || tmux new&quot;</code></pre></div>\n<p>Замените значение <em><public dns></em> на адрес сервера.\nЕсли удалось подключиться, то всё отлично.</p>\n<h2 id=\"настройка-iterm2\"><a href=\"#%D0%BD%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B0-iterm2\" aria-label=\"настройка iterm2 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Настройка iTerm2</h2>\n<p>iTerm2 позволяет создавать несколько раздельных профилей с разными сочетаниями клавиш и\nразными настройками (например, цветами).</p>\n<p>Откройте настройки iTerm2, перейдите в раздел Profiles и добавьте новый.\nВо вкладке <strong>General</strong> выберите пункт <strong>Login shell</strong>, а в поле <strong>Sent text at start</strong> скопируйте предыдущую\nкоманду для подключению к серверу.</p>\n<p>Для удобства работы с Tmux я использую несколько горячих клавиш.\nНастроить их можно во вкладке <strong>Keys</strong>. Жмёте плюс, указываете шоткат, в <strong>Action</strong> выбираете <strong>Send Hex Code</strong>,\nпотом добавляете нужный код.</p>\n<p><a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/1880f33d9fccdce8d6812165591df95b/0c9d6/hotkeys.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 55.3103448275862%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAACA0lEQVQoz02T2ZaaQBRF+f+XfEd/RF7yYDqmY1rmQWS0mWQoUBS1++TeojXNWmdRQNW+5w4o2lqDpmrQNR2GbsBzPdiWA8eeZZk2Pc9ySK5t0zvr89v/u+u48BwPStM0SJIEruvCps1hGGA89DgOAl3bYF+VOI1HKdEPSLKSDtvYbrcwDAO+78NxHERRJDnKMAwoyxJVVSGOQjibAEsrxcpOEWc16uFMmnAYz0iaCb+8FqIp0bQd2raV6roObKyuayhFUciHTggMQ4+y7vBjHeOP84a9GJHXA0kgrkYYuxPSUki3t9sNl8sF0zRJ8fp8PkPp+/7hsNrvCV7j2LcYRIOW1hwwT0P8dCp8+97h2S5woG+cPmfHEBZDT6cTlOv1CkHuLMvCZrPBnqBZniPPCxlE13Ws1yq2Gw+h78mmRFEsa5amqYTexRwFn5dPMC4uA9kVi4GapuHl9wtUur++rrFarSSI93FmuQw+K8syAn584EZ2o90OwTZ4WGfxmp2YhimDcRYGrbkJnCbvuafMGsdxdjiRu2S5pIbU4BIwiDdwoeM4liAGc0otwfjgV9C9hg/gjRqTPD1hR6mw7YLsc7oNBQiCQM4oz5gQHUTLzZpH5D4qLC4Bn5mB7+/YEURTVSwWCyzJrWma0l0YhlLcnL/UnGfVh0p/lkdB2DkP+H2wed8/Uf8u5Et9bGcAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;\"\n        alt=\"Добавление горячих клавиш\"\n        title=\"\"\n        src=\"/static/1880f33d9fccdce8d6812165591df95b/623ee/hotkeys.png\"\n        srcset=\"/static/1880f33d9fccdce8d6812165591df95b/816c5/hotkeys.png 148w,\n/static/1880f33d9fccdce8d6812165591df95b/c766b/hotkeys.png 295w,\n/static/1880f33d9fccdce8d6812165591df95b/623ee/hotkeys.png 590w,\n/static/1880f33d9fccdce8d6812165591df95b/0c9d6/hotkeys.png 725w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n  </span>\n  </a></p>\n<p>Клавиши такие</p>\n<ul>\n<li>Новое Tmux окно. Shortcut <em>Cmd+t</em>, Code <code class=\"language-text\">0x02 0x63</code></li>\n<li>Закрыть окно. Shortcut <em>Cmd+t</em>, Code <code class=\"language-text\">0x02 0x78</code></li>\n<li>Предыдущее окно. Shortcut <em>Cmd+ стрелка влево</em>, Code <code class=\"language-text\">0x02 0x70</code></li>\n<li>Следующее окно. Shortcut <em>Cmd+ стрелка вправо</em>, Code <code class=\"language-text\">0x02 0x6e</code></li>\n</ul>\n<p>Вы можете легко добавлять нужные горячие клавиши. Чтобы узнать коды, можете использовать совет,\nописанный по этой <a href=\"https://stackoverflow.com/a/36403113/314027\" title=\"SO hex codes answer\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">ссылке</a></p>\n<h2 id=\"написание-кода\"><a href=\"#%D0%BD%D0%B0%D0%BF%D0%B8%D1%81%D0%B0%D0%BD%D0%B8%D0%B5-%D0%BA%D0%BE%D0%B4%D0%B0\" aria-label=\"написание кода permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Написание кода</h2>\n<p>Для удаленного сервера вариантов не так много. Это или Vim или Emacs. Я предпочитаю первый.\nVim отлично работает через Mosh.\nСовременные IDE, такие как WebStorm могут синхронизировать файлы по SSH. Но это вне данного руководства.</p>\n<h2 id=\"выключение-сервера\"><a href=\"#%D0%B2%D1%8B%D0%BA%D0%BB%D1%8E%D1%87%D0%B5%D0%BD%D0%B8%D0%B5-%D1%81%D0%B5%D1%80%D0%B2%D0%B5%D1%80%D0%B0\" aria-label=\"выключение сервера permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Выключение сервера</h2>\n<p>Из списка инстансов можно управлять текущим состоянием. Включать и выключать сервер.\nТам же можно менять тип инстанса (предварительно его выключив). Плата идет только за работающий (<em>running</em>)\nинстанс с посекундной тарификацией.</p>\n<p><a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/e13dc29cdce27b1fc9543617849362ca/676bc/state.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 37.338501291989665%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABYlAAAWJQFJUiTwAAABsklEQVQozz2RTWsTURSG87O6aruYUpJW0xiLgjtJwF20Qv5Ag11WEKorIyYowSxcWELduBEsFLsoFB3UNo2ZGZ0Zk8xkPppxZh7vHRpfOPcDLs95z3tzQRBg2zamaeJ5PlKq7rH7XuPZB4PdgyGPxbn/U0fXNEajMbquE8cxc6VpSpIkxJ5HTgIlbDab/X90Ybq8/jjg7ZHOm0/DbP9l2kxdl2azSWN7m52dRzQaDZ7u7eELRhKGhKpKzvd9DMPIOswVR5cEk984tkHoWPgTU7gb4joOtVoNZWWVtfVrKIrCzXKZH9L54SH28WdyoSBPxuMMKK1Luf4lX850TtVzLjSLs4HB0fEJ6vcBD+7XuH19mcqdIutrBQqrK9wTTZ4sL3Hw/IVwOHWwLBvpdK5pEDH8ExAJ034EjlhOTlW+fuuztfWQzfIGtzZvkM/nM5elUgllYYGXrVciw+mE834/C9oRI2UeUzl+ItOWl6yS+G/WrF6vUyxuCFiBxcWlDFipVLlbrbK//04AxciWZaFdAaWSJM3Gl7x5JVdx9Ho9Wq0WnU6HdrtNt9sVPz9CRhdFEf8AluLXvcXvg2gAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;\"\n        alt=\"Выключение\"\n        title=\"\"\n        src=\"/static/e13dc29cdce27b1fc9543617849362ca/623ee/state.png\"\n        srcset=\"/static/e13dc29cdce27b1fc9543617849362ca/816c5/state.png 148w,\n/static/e13dc29cdce27b1fc9543617849362ca/c766b/state.png 295w,\n/static/e13dc29cdce27b1fc9543617849362ca/623ee/state.png 590w,\n/static/e13dc29cdce27b1fc9543617849362ca/676bc/state.png 774w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n  </span>\n  </a></p>\n<h2 id=\"изменение-размера-диска\"><a href=\"#%D0%B8%D0%B7%D0%BC%D0%B5%D0%BD%D0%B5%D0%BD%D0%B8%D0%B5-%D1%80%D0%B0%D0%B7%D0%BC%D0%B5%D1%80%D0%B0-%D0%B4%D0%B8%D1%81%D0%BA%D0%B0\" aria-label=\"изменение размера диска permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Изменение размера диска</h2>\n<p>В консоли амазона есть раздел Volumes. Там показаны текущие разделы в регионе.\nМожно менять их размер, создавать новые и так далее.</p>\n<h2 id=\"что-я-пропустил\"><a href=\"#%D1%87%D1%82%D0%BE-%D1%8F-%D0%BF%D1%80%D0%BE%D0%BF%D1%83%D1%81%D1%82%D0%B8%D0%BB\" aria-label=\"что я пропустил permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Что я пропустил</h2>\n<p>Я пропустил некоторые вещи, чтобы не делать пост слишком большим. Поэтому пройдусь по тем вещам,\nкоторые нужно учитывать, если вы захотите всерьез использовать удаленный сервер.</p>\n<p>Первое и самое важное — безопасность; Наличие сервера с доступом снаружи — это всегда риск взлома.\nЕсть небольшой, но важный комплекс задач, который стоит сделать при создании нового сервера.\nНачальный гайд можно найти <a href=\"https://www.digitalocean.com/community/tutorials/initial-server-setup-with-ubuntu-16-04\" title=\"Гайд по безопасности от DO\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">тут</a></p>\n<p>У амазона есть консольная утилита aws-cli, которая позволяет производить любые операции. Для себя я накидал скрипт, который автоматически поднимает инстанса и коннектится к нему, когда он готов. И этот скрипт запускается при открытии профиля iTerm2. Если читателям будет интересно, то я приведу этот скрипт в нормальный вид и выложу тут.</p>\n<p>В зависимости от шаблона использования я вижу различные автоматизации, которые можно сделать.\nНапример включать и выключать сервер в определенное время. Или сделать скрипт для быстрого изменения типа инстанса.</p>","timeToRead":9,"frontmatter":{"title":"Удаленный сервер для разработки","date":"June 15, 2018","description":"Гайд по настройке сервера для разработки в AWS"},"fields":{"slug":"/ru/remote-dev-server/","langKey":"ru"}},"altPost":null},"pageContext":{"slug":"/ru/remote-dev-server/","altSlug":"/remote-dev-server/"}}